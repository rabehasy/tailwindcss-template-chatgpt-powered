<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Template avec Tailwind CSS</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.16/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.0/css/all.min.css"
        crossorigin="anonymous">
    <style>
        .sidebar {
            transition: all 0.3s ease;
        }

        .sidebar.collapsed {
            display: none;
        }

        .sidebar.collapsed .menu .submenu {
            display: none;
        }

        .sidebar .menu .fa-chevron-right {
            transition: transform 0.3s ease;
        }

        .sidebar .menu .fa-chevron-right.rotated {
            transform: rotate(90deg);
        }

        .sidebar.collapsed .menu .submenu .menu .submenu {
            display: none;
        }

        /* Dark Mode */
        .dark-mode {
            background-color: #1a202c;
            color: #f1f5f9;
        }

        .dark-mode .bg-white {
            background-color: #2d3748;
        }

        .dark-mode .text-gray-600 {
            color: #a0aec0;
        }

        .dark-mode .border-gray-300 {
            border-color: #4a5568;
        }

        .dark-mode .hover\:bg-gray-200:hover {
            background-color: #718096;
        }

        .dark-mode .hover\:text-white:hover {
            color: #f1f5f9;
        }

        /* Contenu principal en mode sombre */
        .dark-mode .content {
            background-color: #1a202c;
            color: #f1f5f9;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.9.3/min/dropzone.min.css"
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.9.3/min/dropzone.min.js" crossorigin="anonymous"
        referrerpolicy="no-referrer"></script>


</head>

<body>
    <!-- Le contenu du template ici -->
    <div class="flex h-screen bg-gray-100">
        <!-- Barre latérale -->
        <div id="sidebar" class="bg-white w-64 p-4 flex flex-col transition-all duration-300 sidebar">
            <h1 class="text-2xl font-bold mb-4">Admin Template</h1>
            <nav>
                <div class="menu">
                    <a href="#" class="block py-2 px-4 rounded flex items-center justify-between"
                        onclick="toggleSubMenu(event)">
                        <span class="flex items-center">
                            <i class="fas fa-tachometer-alt mr-2"></i> Dashboard
                        </span>
                    </a>
                </div>
                <div class="menu">
                    <a href="#" class="block py-2 px-4 rounded flex items-center justify-between"
                        onclick="toggleSubMenu(event)">
                        <span class="flex items-center">
                            <i class="fas fa-users mr-2"></i> Utilisateurs
                        </span>
                        <i class="fas fa-chevron-right"></i>
                    </a>
                    <ul class="submenu hidden list-none ml-4">
                        <li>
                            <a href="#" class="block py-2 px-4 rounded hover:bg-blue-500 hover:text-white">Tous les
                                utilisateurs</a>
                        </li>
                        <li>
                            <a href="#" class="block py-2 px-4 rounded hover:bg-blue-500 hover:text-white">Ajouter un
                                utilisateur</a>
                        </li>
                    </ul>
                </div>
                <div class="menu">
                    <a href="#" class="block py-2 px-4 rounded flex items-center justify-between"
                        onclick="toggleSubMenu(event)">
                        <span class="flex items-center">
                            <i class="fas fa-newspaper mr-2"></i> Articles
                        </span>
                        <i class="fas fa-chevron-right"></i>
                    </a>
                    <ul class="submenu hidden list-none ml-4">
                        <li>
                            <a href="#" class="block py-2 px-4 rounded hover:bg-blue-500 hover:text-white">Tous les
                                articles</a>
                        </li>
                        <li>
                            <a href="#" class="block py-2 px-4 rounded hover:bg-blue-500 hover:text-white">Ajouter un
                                article</a>
                        </li>
                    </ul>
                </div>
                <!-- Exemple de menu avec un sous-menu de 4ème niveau -->
                <div class="menu">
                    <a href="#" class="block py-2 px-4 rounded flex items-center justify-between"
                        onclick="toggleSubMenu(event)">
                        <span class="flex items-center">
                            <i class="fas fa-cog mr-2"></i> Paramètres
                        </span>
                        <i class="fas fa-chevron-right"></i>
                    </a>
                    <ul class="submenu hidden list-none ml-4">
                        <li>
                            <a href="#" class="block py-2 px-4 rounded hover:bg-blue-500 hover:text-white">Général</a>
                        </li>
                        <li class="menu">
                            <a href="#" class="block py-2 px-4 rounded flex items-center justify-between"
                                onclick="toggleSubMenu(event)">
                                <span class="flex items-center">
                                    <i class="fas fa-shield-alt mr-2"></i> Sécurité
                                </span>
                                <i class="fas fa-chevron-right"></i>
                            </a>
                            <ul class="submenu hidden list-none ml-4">
                                <li>
                                    <a href="#"
                                        class="block py-2 px-4 rounded hover:bg-blue-500 hover:text-white">Authentification</a>
                                </li>
                                <li class="menu">
                                    <a href="#" class="block py-2 px-4 rounded flex items-center justify-between"
                                        onclick="toggleSubMenu(event)">
                                        <span class="flex items-center">
                                            <i class="fas fa-user-shield mr-2"></i> Permissions
                                        </span>
                                        <i class="fas fa-chevron-right"></i>
                                    </a>
                                    <ul class="submenu hidden list-none ml-4">
                                        <li>
                                            <a href="#"
                                                class="block py-2 px-4 rounded hover:bg-blue-500 hover:text-white">Rôles</a>
                                        </li>
                                        <li>
                                            <a href="#"
                                                class="block py-2 px-4 rounded hover:bg-blue-500 hover:text-white">Utilisateurs</a>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>

            </nav>
        </div>
        <!-- Contenu -->
        <div class="flex-1 flex flex-col">

            <!-- Header -->
            <header class="p-4 bg-white shadow-md flex justify-between items-center">
                <i onclick="toggleSidebar()" class="fas fa-bars p-2 bg-blue-500 text-white rounded cursor-pointer"></i>
                <h2 class="ml-2 text-xl font-bold">Dashboard</h2>
                <div class="flex items-center">

                    <!-- Icône Dark Mode -->
                    <i id="dark-mode-icon" onclick="toggleDarkMode()" class="fas fa-moon p-2 cursor-pointer"></i>

                    <!-- Champ de recherche -->
                    <div class="mx-4">
                        <form action="#" method="get">
                            <input type="search" name="search" placeholder="Rechercher..."
                                class="bg-white dark:bg-gray-800 border rounded p-2">
                        </form>
                    </div>

                    <!-- User menu -->
                    <div class="user-menu relative">
                        <button onclick="toggleUserMenu()" class="flex items-center space-x-2">
                            <img src="https://via.placeholder.com/40" alt="User Avatar" class="rounded-full h-8 w-8">
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <ul
                            class="user-submenu hidden absolute right-0 mt-2 w-48 py-2 bg-white border border-gray-300 rounded text-gray-600">
                            <li>
                                <a href="#" class="block px-4 py-2 hover:bg-gray-200">Mon profil</a>
                            </li>
                            <li>
                                <a href="#" class="block px-4 py-2 hover:bg-gray-200">Paramètres</a>
                            </li>
                            <li>
                                <a href="#" class="block px-4 py-2 hover:bg-gray-200">Déconnexion</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </header>


            <!-- Contenu principal -->
            <main class="flex-1 p-4 content">
                <form action="your-server-url" method="post" class="space-y-4 ">
                    <button type="submit" class="p-2 bg-blue-500 text-white rounded">Valider</button>

                    <div class="flex flex-wrap md:flex-nowrap space-x-0 md:space-x-4 space-y-4 md:space-y-0">
                        <!-- Bloc 1 -->
                        <div
                            class="w-full md:w-1/2 lg:w-1/3 _flex-1 space-y-2 bg-white dark:bg-gray-800 p-4 rounded shadow">
                            <div>
                                <label for="textfield" class="block mb-1">Text Field :</label>
                                <input type="text" id="textfield" name="textfield"
                                    class=" bg-white dark:bg-gray-800 dark:text-white  border rounded p-2 w-full">
                            </div>
                            <div>
                                <label for="emailfield" class="block mb-1">Email Field :</label>
                                <input type="email" id="emailfield" name="emailfield"
                                    class="bg-white dark:bg-gray-800 dark:text-white  border rounded p-2 w-full">
                            </div>
                            <div>
                                <label for="numberfield" class="block mb-1">Number Field :</label>
                                <input type="number" id="numberfield" name="numberfield"
                                    class="bg-white dark:bg-gray-800 dark:text-white border rounded p-2 w-full">
                            </div>
                        </div>
                        <!-- Bloc 2 -->
                        <div class="w-full md:w-1/2 lg:w-1/3 _flex-1  bg-white dark:bg-gray-800 p-4 rounded shadow">
                            <div>
                                <label for="datefield" class="block mb-1">Date Field :</label>
                                <input type="date" id="datefield" name="datefield"
                                    class="bg-white dark:bg-gray-800 dark:text-white border rounded p-2 w-full">
                            </div>
                            <div>
                                <label for="selectfield" class="block mb-1">Select Field :</label>
                                <select id="selectfield" name="selectfield"
                                    class="border rounded p-2 w-full bg-white dark:bg-gray-800 dark:text-white">
                                    <option value="option1" class="bg-white dark:bg-gray-800 dark:text-white">Option 1
                                    </option>
                                    <option value="option2" class="bg-white dark:bg-gray-800 dark:text-white">Option 2
                                    </option>
                                    <option value="option3" class="bg-white dark:bg-gray-800 dark:text-white">Option 3
                                    </option>
                                </select>
                            </div>
                            <div class="flex items-center">
                                <input type="checkbox" id="checkboxfield" name="checkboxfield" class="rounded">
                                <label for="checkboxfield" class="block ml-2">Checkbox Field</label>
                            </div>
                        </div>
                        <!-- Bloc 3 -->
                        <div class="w-full md:w-1/2 lg:w-1/3 bg-white dark:bg-gray-800 p-4 rounded shadow">
                            <div>
                                <label for="textareafield" class="block mb-1">Textarea Field :</label>
                                <textarea id="textareafield" name="textareafield"
                                    class="bg-white dark:bg-gray-800 border rounded p-2 w-full h-24 dark:bg-gray-800 dark:text-white"></textarea>
                            </div>
                            <div class="flex items-center">
                                <input type="radio" id="radiofield" name="radiofield" class="rounded">
                                <label for="radiofield" class="block ml-2">Radio Field</label>
                            </div>
                            <div>
                                <label for="filefield" class="block mb-1">File Field :</label>
                                <input type="file" id="filefield" name="filefield"
                                    class="bg-white dark:bg-gray-800 dark:text-white  border rounded p-2 w-full dropzone">
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="p-2 bg-blue-500 text-white rounded">Valider</button>
                </form>
            </main>

        </div>
    </div>

    <script>
        function toggleSubMenu(event) {
            event.preventDefault();
            const parentMenu = event.target.closest('.menu');
            const submenu = parentMenu.querySelector('.submenu');
            const chevron = parentMenu.querySelector('.fa-chevron-right');

            submenu.classList.toggle('hidden');
            chevron.classList.toggle('transform');
            chevron.classList.toggle('rotate-90');
        }

        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('collapsed');
        }

        function toggleUserMenu() {
            const userMenu = document.querySelector('.user-menu');
            const userSubMenu = userMenu.querySelector('.user-submenu');
            userSubMenu.classList.toggle('hidden');
        }

        let darkMode = localStorage.getItem('darkmode') === 'true';
        function toggleDarkMode() {
            console.log('here');
            darkMode = !darkMode;
            localStorage.setItem('darkmode', darkMode);
            document.documentElement.classList.toggle('dark-mode', darkMode);
            updateDarkModeIcon();
        }

        function updateDarkModeIcon() {
            const darkModeIcon = document.getElementById('dark-mode-icon');
            if (darkMode) {
                darkModeIcon.classList.remove('fa-sun');
                darkModeIcon.classList.add('fa-moon');
            } else {
                darkModeIcon.classList.remove('fa-moon');
                darkModeIcon.classList.add('fa-sun');
            }
        }


        // Récupère la préférence de l'utilisateur lors du chargement de la page
        document.addEventListener('DOMContentLoaded', () => {
            const html = document.documentElement;
            const darkModePreference = localStorage.getItem('darkMode');
            if (darkModePreference === 'enabled') {
                html.classList.add('dark-mode');
            } else {
                html.classList.remove('dark-mode');
            }
            updateDarkModeIcon();
        });

        Dropzone.options.filefield = {
            paramName: "file",
            maxFilesize: 2, // Taille maximale du fichier en Mo
            acceptedFiles: "image/*,application/pdf", // Types de fichiers acceptés
            dictDefaultMessage: "Glissez et déposez les fichiers ici ou cliquez pour sélectionner", // Message par défaut
            init: function () {
                this.on("addedfile", function (file) {
                    console.log("Fichier ajouté :", file);
                });
                this.on("error", function (file, message) {
                    console.error("Erreur :", message);
                });
            },
            url: document.querySelector('form').action,
        };

    </script>



</body>

</html>